<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>NIRC2 Format Simulator</title>
    <link rel=stylesheet type="text/css" href="css/nirc2layout.css">
    <script type="text/javascript" src="./data/jsonloader.js"></script>

    <script src="https://code.jquery.com/jquery-1.12.4.js" type="text/javascript" ></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" type="text/javascript" ></script>
</head>
<body>

    <div id="full">
        <div id='container' >

            <div id="slit" class="wavelength tooltip-right">slit</div>

            <div class="echellebg">
                <canvas id="echelle" >Your Browser Does Not Support HTML5 Canvas</canvas>
                <div id="marker"><div id="cur" class="wavelength tooltip-left"><p class="cursor"></p></div></div>
                <div id="detector" >
                    <div id="cuton" class="wavelength cut">on</div>
                    <div id="draggable" ></div>
                    <div id="cutoff" class="wavelength cut">off</div>
                </div>
            </div>

            <ul class="context-menu">
                <li data-action="clear">Clear Markers</li>
                <li class='export' data-action="export">Export</li>
            </ul>

        </div>



        <div id="ui" >

            <div id="header">
                <p id="title">NIRC2 Format Simulator</p>
                <div id="keckcontainer">
                    <div><img id="logo" src="img/keck-logo-small.png"></div>
                    <div id="keck">Keck Observatory</div>
                </div>
            </div>



            <div id="ui-top">

                <div id="spectra" class="interface d1">
                    <div id="spectrumcontainer">
                        <img id="spectrumgraph" class="data graph" src="" ></img>
                    </div>
                    <div id="popupcontainer">
                        <img id="popup" class = "graph" src="" ></img>
                    </div>
                </div>

                <div id="settings" class="interface d2">
                    <div id="toggle" class="data" >
                        <div id="zoom-container">Zoom: <input type="range" id="zoom" class="settings-item" min="1" max="32" value="22" onchange="update()"/></div>
                        <select id="switchGrism" class="settings-item update" >
                            <option value='lowres'>Grism</option>
                            <option value='lowres'>lowres</option>
                            <option value='medres'>medres</option>
                        </select>
                        <select id="switchCamera" class="settings-item update" >
                            <option value='wide'>Camera</option>
                            <option value='wide'>Wide</option>
                            <option value='medium'>Medium</option>
                            <option value='narrow'>Narrow</option>
                        </select>
                        <select id="switchFilter" class="settings-item update" >
                            <option value='K'>Filter</option>
                            <option value='J5'>J5</option>
                            <option value='J6'>J6</option>
                            <option value='H'>H</option>
                            <option value='K'>K</option>
                            <option value='Lp'>Lp</option>
                            <option value='Lw'>Lw</option>
                        </select>
                        <br>
                        <div class="checks">
                            <p>Ar</p>
                            <input type="checkbox" class="update" id="Argon" />
                        </div>
                        <div class="checks">
                            <p>Kr</p>
                            <input type="checkbox" class="update" id="Krypton" />
                        </div>
                        <div class="checks">
                            <p>Ne</p>
                            <input type="checkbox" class="update" id="Neon" checked />
                        </div>
                        <div class="checks">
                            <p>Xe</p>
                            <input type="checkbox" class="update" id="Xenon" />
                        </div>
                    </div>
                </div>

            </div>

            <br>

            <div id="ui-bottom">

                <div id="info" class="interface d1" >
                    <div id="Center" class="data">Center</div>
                    <br>
                    <div id="Slit" class="data">Slit</div>
                    <br>
                    <div class="data">
                        <div id="Cut-On">Cut-On</div>
                        <br>
                        <div id="Cut-Off">Cut-Off</div>
                    </div>
                    <br>
                    <div id="CursorLambda" class="data">Lambda (at Cursor):<p class="cursor"></p></div>

                </div>

                <div id="input" class="interface d2" >
                    <div id="FindLambda" class="data locwave">Locate Wavelength: <br><input type="text" id="lambdainput" value=0 />Î¼m<br>
                        <input class="SetDetectorPosition" type="button" value="Mark" />
                        <input class="ClearMarkers" type="button" value="Clear" />
                    </div><br>

                    <div class="data">
                        Object X:
                        <input id="FindX" type="number" value=521 max="1024" min="0" onchange="setObjectLocation();" onclick="setObjectLocation();" />
                        <br>
                        Object Y:
                        <input id="FindY" type="number" value=512 max="1024" min="0" onchange="setObjectLocation();" onclick="setObjectLocation();"/>
                        <br>
                    </div><br>

                    <div class="data">
                        <div class="dropdown">
                            <button>More</button>

                            <ul class="dropdown-menu">
                                <li><a href="https://www2.keck.hawaii.edu/inst/nirc2/" target="_blank">NIRC2 Home</a></li>
                                <li><a href="./nirc2sim.html">Reset</a></li>
                                <li id='final'><a class='export' href="#" onclick="exportEchelle();">Export (Firefox/Safari only)</a></li>
                            </ul>
                        </div>

                    </div>

                </div>

            </div>

        </div>

        <div class="warning data">Firefox is the preferred browser for this web app, on other browsers certain functionality will be unavailable.</div>

    </div>

    <script type="text/javascript" src="nirc2sim.js"></script>

</body>
</html>
